pipeline {
    agent {
        docker {
            image 'node:6-alpine'
            args '-u root -p 3000:3000'
            }
          }
     stages {
       stage ('prepare') {
         steps {
           checkout scm
            }
       }
       stage ('Build') {
         steps {
           sh 'node --version'
           sh 'npm --version'
           sh 'npm install'
         }
       }
       stage('Deliver') {
         steps {
           sh './pipelines/scripts/deliver.sh'
           input message: 'Finished using the web site? (Click "Proceed" to continue)'
           sh './pipelines/scripts/kill.sh'
               }
         }
     }
   }
